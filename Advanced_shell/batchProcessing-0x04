#!/bin/bash

# List of Pokémon to fetch data for
POKEMON_LIST=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

# Function to fetch Pokémon data
fetch_pokemon_data() {
  POKEMON_NAME=$1
  API_URL="https://pokeapi.co/api/v2/pokemon/$POKEMON_NAME"
  OUTPUT_FILE="${POKEMON_NAME}.json"
  
  # Fetch data and save it to a JSON file
  curl -s $API_URL -o $OUTPUT_FILE
  
  # Check if the request was successful
  if [ $? -eq 0 ]; then
    echo "Successfully fetched data for $POKEMON_NAME"
  else
    echo "Error fetching data for $POKEMON_NAME" >> errors.txt
  fi
}

# Fetch data for each Pokémon in parallel using background processes
for POKEMON in "${POKEMON_LIST[@]}"; do
  fetch_pokemon_data $POKEMON &  # Run the fetch_pokemon_data function in the background
done

# Wait for all background processes to complete
wait

# Print a message when all processes have finished
echo "All Pokémon data retrieval processes have completed."
